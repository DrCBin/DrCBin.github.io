---
title: MySql学习笔记
category: mysql
excerpt: |
  对MySql学习过程的记录，形成笔记，供日后查询。
---

## 安装与配置，初次接触数据库
- 在mysql的安装目录下，mysql的配置文件，其中有个用户配置文件叫做my.ini,用户可以修改其来进行自己的配置。

```mysql
[client]
# port: mysql的端口号,默认为3306
port=3306

[mysql]
# default-character-set: 默认字符集
default-character-set=uft8

# mysqld:mysql服务器端的一些配置 
[mysqld]
port=3306

# 基础的安装路径
basedir="xxx"	

# datadir:数据的存放路径
datadir="xxxx"

# character-set-server:服务器的字符集
character-set-server=utf8
```

- 重启mysql来应用配置
    - windows: `net start/stop mysql`
    - linux: `sudo service mysql start/stop`
    
- 登陆mysql
`mysql [-选项]`, eg:`mysql -uroot -p`
    - -D, --database=name 指定数据库名称
    - --delimiter=name 指定分隔符
    - -h, --host=name 服务器名称
    - -p, --password 密码
    - -P, --port=# 端口号
    - --prompt=name  设置提示符
    - -u, --user=name 用户名
    - -V, --version 查看版本号
    
- 登出:
```mysql
mysql>exit;
mysql>quit;
mysql>\q;
```

- 修改mysql提示符：
    - 链接服务器的时候修改：
    `mysql -uusername -ppassword --prompt promptname`
    - 登陆成功后通过命令修改
    `mysql> prompt promptname;`

其中`promptname`可以是以下参数: eg:`mysql>pormpt \u@\h \d>;`
```mysql
\D 完整的日期
\d 当前的数据库
\h 服务器名称
\u 当前用户
```

- mysql常用命令
```mysql
# 显示数据库版本
SELECT VERSION(); 
# 显示当前用户
SELECT USER();
#显示当前日期
SELECT NOW();
```

- MySql语句的规范
    - 关键字与函数全部大写
    - 数据库名称，表名称，字段名称全部小写
    - 语句必须以‘;’结尾。
    
    
- 创建数据库：`CREATE {DATABAS , ESCHEMA} [IF NOT EXISTS] db_name [DEFAULT] CHARACTER SET [=] charset_name;`
    - \{\}为必选项，在 , 之间选一个
    - []为可选项。
    - eg: `CREATE DATABASE t1;`
    
- 查看当前服务器下的数据库:` SHOW DATABASES;`

- 使用参数创建数数据库: 
    - 我们上面创建了一个叫做 t1 的数据库，如果我们重复执行命令，在创建一个叫做t1的数据亏，这系统会给我们报错。
    - 我们加上参数再次创建同名数据库:`CREATE DATABASE  IF NOT EXISTS t1;`,此时系统没有给我们报错，返回了OK，只是提示有一个警告。
    - 我们可以使用命令`SHOW WARINGS;`来查看警告。
    
- 查看数据库创建的指令:`SHOW CREATE DATABASE db_name;`
    - 这个命令可以显示数据库创建的命令，能看到字符集等。
    
- 修改已存在数据库：`ALTER {DATABASE , SCHEMA} [db_name] [DEFAULT] CHARACTER SET [=] charset_name;`
    - eg:`ALTER DATABASE t1 CHARACTER SET = gbk;`
    
- 删除数据库:`DROP {DATABASE , SCHEMA} [IF EXISTS] db_name;`
    - eg: `DROP DATABASES t1;`


## 数据类型与操作数据库